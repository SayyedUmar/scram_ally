//
//  CustomNativePlugin.swift
//  Capacitor
//
//  Created by Umar Sayyed on 15/08/20.
//

import Foundation


@objc(CustomNativePlugin)
public class CustomNativePlugin: CAPPlugin {


    @objc func getLastPhotoTaken(_ call: CAPPluginCall) {
        call.success([
            "image": "test"
        ])
    }
    
    @objc func customCall(_ call: CAPPluginCall) {
        //ApplicationConstants.IsServiceStop = false;
        //startBackgroundLocationService()
        call.resolve()
    }
    
    @objc func customStopService(_ call: CAPPluginCall) {
        // stopBackgroundLocationService();
        call.resolve()
    }
    
    @objc func sendTokenToApp(_ call: CAPPluginCall) {
        if let token = call.getString("token") {
            UserDefaults.standard.set("token", forKey: token)
            print("sendTokenToApp", token)
        }
        call.resolve()
    }
    
    @objc func sendDeviceIMEItoApp(_ call: CAPPluginCall) {
        if let token = call.getString("deviceImei") {
            UserDefaults.standard.set("deviceImei", forKey: token)
            print("sendDeviceIMEItoApp", token)
        }
        printLogs(call: call)
    }
    
    @objc func LogInfo(_ call: CAPPluginCall) {
        printLogs(call: call)
    }
    
    @objc func LogError(_ call: CAPPluginCall) {
        printLogs(call: call)
    }
    
    @objc func LogDebug(_ call: CAPPluginCall) {
        printLogs(call: call)
    }
    
    @objc func LogWarning(_ call: CAPPluginCall) {
        printLogs(call: call)
    }
    
    @objc func appendLog(_ call: CAPPluginCall) {
        printLogs(call: call)
    }
    
    func printLogs (call: CAPPluginCall) {
        if let tag = call.getString("TAG"), let message = call.getString("message") {
            print(tag, message)
        }
        call.resolve()
    }
    
    //customCall
    //customStopService
    //sendTokenToApp
    //getPermissions -
    //sendDeviceIMEItoApp
    //sendVictimDetailsToApp -
    //sendPanicButtonNumberToApp -
    //isNotificationsEnabledForMyApp -
    //startBackgroundLocationService - not plugin method
    //stopBackgroundLocationService - not plugin method
    //requestAndroidNativePermission - not plugin method
    //isMyServiceRunning - not plugin method
    //setupGpsTrackerServiceEventReceiver - not plugin method
    
    //LogInfo
    //LogError
    //LogWarning
    //LogDebug
    //appendLog
    //IsMobileDataEnabled -
}
