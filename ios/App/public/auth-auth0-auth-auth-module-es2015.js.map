{"version":3,"sources":["./src/app/auth/auth0/auth/auth.page.html","./src/app/auth/auth0/auth/auth-routing.module.ts","./src/app/auth/auth0/auth/auth.module.ts","./src/app/auth/auth0/auth/auth.page.scss","./src/app/auth/auth0/auth/auth.page.ts"],"names":[],"mappings":"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","file":"auth-auth0-auth-auth-module-es2015.js","sourcesContent":["module.exports = \"<ion-content>\\n  <div>\\n    <div class=\\\"image-container\\\" id=\\\"imgLogo\\\">\\n      <img class=\\\"logo\\\" src=\\\"assets/imgs/login.png\\\" />\\n    </div>\\n\\n    <div class=\\\"content\\\">\\n      <div class=\\\"message\\\" id=\\\"message\\\">\\n        <ion-text class=\\\"title\\\">\\n          <h2>Welcome to Ally</h2>\\n        </ion-text>\\n        <ion-text color=\\\"medium\\\">\\n          <h6>Please press the button below to sign in.</h6>\\n        </ion-text>\\n      </div>\\n\\n      <div class=\\\"footer\\\">\\n        <ion-button id=\\\"btnSignIn\\\" color=\\\"primary\\\" expand=\\\"block\\\" round (click)=\\\"onClick()\\\" class=\\\"\\\">Sign In\\n        </ion-button>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthPage } from './auth.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthPageRoutingModule { }\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { AuthPageRoutingModule } from './auth-routing.module';\nimport { AuthPage } from './auth.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AuthPageRoutingModule\n  ],\n  declarations: [AuthPage]\n})\nexport class AuthPageModule { }\n","module.exports = \".image-container {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  background-color: #253A92;\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n  height: 70%;\\n}\\n\\n.logo {\\n  margin-top: 10%;\\n  margin-bottom: 25px;\\n}\\n\\n.message {\\n  margin-left: 20px;\\n  margin-right: 20px;\\n  text-align: center;\\n}\\n\\n.footer {\\n  margin-right: 20px;\\n  margin-left: 20px;\\n}\\n\\n.footer .button {\\n  text-transform: capitalize !important;\\n}\\n\\n.container {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  height: 100%;\\n}\\n\\n.content {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  height: 40%;\\n  -webkit-box-pack: space-evenly;\\n          justify-content: space-evenly;\\n}\\n\\n.title {\\n  color: #5a5a5a;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy91bWFyL0Rvd25sb2Fkcy9TY3JhbU5ldC5BbGx5LkFuZHJvaWROYXRpdmVfMi9zcmMvYXBwL2F1dGgvYXV0aDAvYXV0aC9hdXRoLnBhZ2Uuc2NzcyIsInNyYy9hcHAvYXV0aC9hdXRoMC9hdXRoL2F1dGgucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7RUFDQSx5QkFBQTtFQUVBLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxXQUFBO0FDQUY7O0FER0E7RUFDRSxlQUFBO0VBR0EsbUJBQUE7QUNGRjs7QURXQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtBQ1JGOztBRFdBO0VBQ0Usa0JBQUE7RUFDQSxpQkFBQTtBQ1JGOztBRFVFO0VBQ0UscUNBQUE7QUNSSjs7QURZQTtFQUNFLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtFQUNBLFlBQUE7QUNURjs7QURZQTtFQUNFLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtFQUNBLFdBQUE7RUFDQSw4QkFBQTtVQUFBLDZCQUFBO0FDVEY7O0FEWUE7RUFDRSxjQUFBO0FDVEYiLCJmaWxlIjoic3JjL2FwcC9hdXRoL2F1dGgwL2F1dGgvYXV0aC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW1hZ2UtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyNTNBOTI7XG4gIC8vIGJhY2tncm91bmQtY29sb3I6ICM2RENGRjY7XG4gIHBhZGRpbmctdG9wOiAyMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgaGVpZ2h0OiA3MCU7XG59XG5cbi5sb2dvIHtcbiAgbWFyZ2luLXRvcDogMTAlO1xuICAvLyBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gIC8vIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDI1cHg7XG4gIC8vIGhlaWdodDogNDQlO1xufVxuXG4vLyAubG9nbyB7XG4vLyAgIG1hcmdpbi10b3A6IDEwJTtcbi8vICAgbWFyZ2luLWJvdHRvbTogMjVweDtcbi8vIH1cblxuLm1lc3NhZ2Uge1xuICBtYXJnaW4tbGVmdDogMjBweDtcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5mb290ZXIge1xuICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xuXG4gIC5idXR0b24ge1xuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplICFpbXBvcnRhbnQ7XG4gIH1cbn1cblxuLmNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLmNvbnRlbnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBoZWlnaHQ6IDQwJTtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG59XG5cbi50aXRsZSB7XG4gIGNvbG9yOiAjNWE1YTVhO1xufSIsIi5pbWFnZS1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI1M0E5MjtcbiAgcGFkZGluZy10b3A6IDIwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICBoZWlnaHQ6IDcwJTtcbn1cblxuLmxvZ28ge1xuICBtYXJnaW4tdG9wOiAxMCU7XG4gIG1hcmdpbi1ib3R0b206IDI1cHg7XG59XG5cbi5tZXNzYWdlIHtcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gIG1hcmdpbi1yaWdodDogMjBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uZm9vdGVyIHtcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICBtYXJnaW4tbGVmdDogMjBweDtcbn1cbi5mb290ZXIgLmJ1dHRvbiB7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplICFpbXBvcnRhbnQ7XG59XG5cbi5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5jb250ZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgaGVpZ2h0OiA0MCU7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xufVxuXG4udGl0bGUge1xuICBjb2xvcjogIzVhNWE1YTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MenuController, ModalController } from '@ionic/angular';\nimport { TermsConditionsPage } from 'src/app/pages/terms-conditions/terms-conditions.page';\nimport { AuthenticationService } from 'src/app/provider/auth/authentication.service';\nimport { CommonAPIService } from 'src/app/provider/common-api/common-api.service';\nimport { LogfileService } from 'src/app/provider/common-file/logfile.service';\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.page.html',\n  styleUrls: ['./auth.page.scss'],\n})\nexport class AuthPage implements OnInit {\n  isNetworkConnected: boolean;\n  constructor(public router: Router,\n    private authenticationService: AuthenticationService,\n    private menuCtrl: MenuController,\n    private commonAPIService: CommonAPIService,\n    public modalController: ModalController,\n    private diagnostic: Diagnostic,\n    private logService: LogfileService) { }\n\n  ngOnInit() { }\n\n  ionViewWillEnter() {\n    this.menuCtrl.enable(false);\n  }\n\n  async onClick() {\n    this.logService.logInfo('AuthPage', 'onClick_SignIn()', 'isNetworkConnected?: ' + this.commonAPIService.networkStatus.connected);\n    if (this.commonAPIService.networkStatus.connected) {\n      this.checkIfTermsAndConditionAccepted();\n    } else {\n      // tslint:disable-next-line:max-line-length\n      this.commonAPIService.presentToast('Ally requires cellular data to be enabled. Please enable the cellular data to access the Ally app.');\n      this.logService.logDebug('AuthPage', 'onClick_SignIn()', 'Ally requires cellular data to be enabled. Please enable the cellular data to access the Ally app.');\n    }\n\n  }\n\n  async checkIfTermsAndConditionAccepted() {\n    await this.commonAPIService.getStorageValue('isTermsAndCondAccepted').then(res => {\n      if (res) {\n        this.openOAuthPage();\n      } else {\n        this.logService.logError('AuthPage', 'checkIfTermsAndConditionAccepted', 'Terms & Condition are not accepted!');\n        this.showTermsConditionModal();\n      }\n      this.logService.logInfo('AuthPage', 'checkIfTermsAndConditionAccepted', 'isTermsAndCondAccepted: ' + res);\n    });\n  }\n\n  async openOAuthPage(): Promise<void> {\n    await this.authenticationService.isAuth0Authenticated();\n    this.logService.logInfo('AuthPage', 'openOAuthPage()', 'this.authenticationService.isUserAuthenticated :' + this.authenticationService.isUserAuthenticated);\n    if (this.authenticationService.isUserAuthenticated) {\n      this.authenticationService.setToken();\n    } else {\n      await this.authenticationService.login();\n    }\n  }\n\n  async showTermsConditionModal() {\n    this.logService.logInfo('AuthPage', 'showTermsConditionModal()', 'Displaying terms and conditions');\n    const modal = await this.modalController.create({\n      component: TermsConditionsPage,\n      cssClass: '',\n      backdropDismiss: false\n    }).then(res => {\n      res.present();\n      res.onDidDismiss().then(dis => {\n        console.log('showTermsConditionModal closed!' + dis);\n        console.log(dis);\n        console.log(dis.data.dismissed);\n        if (dis.data.dismissed) {\n          this.openOAuthPage();\n        }\n      });\n    });\n    // modal.present();\n  }\n\n}\n"],"sourceRoot":""}